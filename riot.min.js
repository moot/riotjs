/* Riot 0.9.8, @license MIT, (c) 2014 Moot Inc + contributors */
(function(e){"use strict";e.observable=function(e){var t={},n=[].slice;e.on=function(n,r){if(typeof r==="function"){n.replace(/[^\s]+/g,function(e,n){(t[e]=t[e]||[]).push(r);r.typed=n>0})}return e};e.off=function(n){n.replace(/[^\s]+/g,function(e){t[e]=[]});if(n==="*")t={};return e};e.one=function(t,n){if(n)n.one=true;return e.on(t,n)};e.trigger=function(r){var o=n.call(arguments,1),u=t[r]||[];for(var i=0,f;f=u[i];++i){if(!(f.one&&f.done||f.busy)){f.busy=true;f.apply(e,f.typed?[r].concat(o):o);f.done=true;f.busy=false}}return e};return e};var t={};var n={"\\":"\\\\","\n":"\\n","\r":"\\r","\u2028":"\\u2028","\u2029":"\\u2029","'":"\\'"};var r={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};e.render=function(e,o){if(!e)return"";t[e]=t[e]||new Function("_","E","return '"+e.replace(/[\\\n\r\u2028\u2029']/g,function(e){return n[e]}).replace(/\{\s*([\.\w]+)\s*\}/g,"'+(function(){try{return(typeof(_.$1)!=='undefined'&&_.$1!==null?(_.$1+'').replace(/[&\"<>]/g,function(e){return E[e];}):'')}catch(e){return ''}})()+'")+"'");return t[e](o,r)};if(typeof top!=="object")return;var o,u=e.observable({}),i=window.addEventListener,f=document;function a(e){e=e.type?location.hash:e;if(e!==o)u.trigger("pop",e);o=e}if(i){i("popstate",a,false);f.addEventListener("DOMContentLoaded",a,false)}else{f.attachEvent("onreadystatechange",function(){if(f.readyState==="complete")a("")})}e.route=function(e){if(typeof e==="function")return u.on("pop",e);if(history.pushState)history.pushState(0,0,e);a(e)}})(typeof top==="object"?window.$||(window.$={}):exports);
