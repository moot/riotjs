/* Riot 0.9.8, @license MIT, (c) 2014 Moot Inc + contributors */
(function(e){"use strict";function o(e){e=e.type?location.hash:e,e!=n&&r.trigger("pop",e),n=e}e.observable=function(e){var t={},n=[].slice;return e.on=function(n,r){return typeof r=="function"&&n.replace(/[^\s]+/g,function(e,n){(t[e]=t[e]||[]).push(r),r.typed=n>0}),e},e.off=function(n){return n.replace(/[^\s]+/g,function(e){t[e]=[]}),n=="*"&&(t={}),e},e.one=function(t,n){return n&&(n.one=!0),e.on(t,n)},e.trigger=function(r){var i=n.call(arguments,1),s=t[r]||[];for(var o=0,u;u=s[o];++o)u.one&&u.done||u.busy||(u.busy=!0,u.apply(e,u.typed?[r].concat(i):i),u.done=!0,u.busy=!1);return e},e};var t={};e.render=function(e,n){return e?(t[e]=t[e]||new Function("_","return '"+e.replace(/\u2028|\u2029|\n/g,"\\n").replace(/\r/g,"\\r").replace(/'/g,"\\'").replace("\\x","\\\\x").replace("\\u","\\\\u").replace(/\{\s*(\w+)\s*\}/g,"'+(_.$1?(_.$1+'').replace(/&/g,'&amp;').replace(/\"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;'):(_.$1===0?0:''))+'")+"'"),t[e](n)):""};if(typeof top!="object")return;var n,r=e.observable({}),i=window.addEventListener,s=document;i?(i("popstate",o,!1),s.addEventListener("DOMContentLoaded",o,!1)):s.attachEvent("onreadystatechange",function(){s.readyState==="complete"&&o("")}),e.route=function(e){if(typeof e=="function")return r.on("pop",e);history.pushState&&history.pushState(0,0,e),o(e)}})(typeof top=="object"?window.$||(window.$={}):exports);
